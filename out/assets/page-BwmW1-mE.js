import{u as oe,r as c,j as e}from"./index-Bhr8nl4h.js";import{T as le}from"./TopNavigation-qEDxUxvl.js";import{F as ce}from"./Footer-C4nop-zi.js";import{u as de,A as W,C as ue}from"./ChatBox-Bicireb3.js";import{s as u}from"./supabase-BeTKJXoN.js";import{m as _}from"./proxy-h76D_HW5.js";const me=["Otomotiv","Elektronik","Ev & YaÅŸam","Moda & Aksesuar","Spor & Outdoor","Kitap & Hobi","Mobilya","DiÄŸer"],pe=["SÄ±fÄ±r","Az KullanÄ±lmÄ±ÅŸ","Ä°yi Durumda","Orta Durumda"],ge={Otomotiv:["Temiz BakÄ±mlÄ± [Marka] [Model]","SÄ±fÄ±r AyarÄ±nda [AraÃ§ Tipi]","Az Km'de HasarsÄ±z [Marka]"],Elektronik:["SÄ±fÄ±r Kutusunda [ÃœrÃ¼n]","Garantili [Marka] [Model]","HiÃ§ KullanÄ±lmamÄ±ÅŸ [ÃœrÃ¼n]"],"Ev & YaÅŸam":["Tertemiz [ÃœrÃ¼n]","Az KullanÄ±lmÄ±ÅŸ [ÃœrÃ¼n]","SÄ±fÄ±r Gibi [ÃœrÃ¼n]"],"Moda & Aksesuar":["Orijinal [Marka] [ÃœrÃ¼n]","HiÃ§ Giyilmedi [ÃœrÃ¼n]","Etiketli [Marka] [ÃœrÃ¼n]"],"Spor & Outdoor":["Az KullanÄ±lmÄ±ÅŸ [ÃœrÃ¼n]","Profesyonel [ÃœrÃ¼n]","SÄ±fÄ±r AyarÄ±nda [ÃœrÃ¼n]"],"Kitap & Hobi":["Koleksiyon [ÃœrÃ¼n]","Nadir Bulunan [ÃœrÃ¼n]","Yeni [ÃœrÃ¼n]"],Mobilya:["SÄ±fÄ±r Gibi [ÃœrÃ¼n]","LÃ¼ks [ÃœrÃ¼n]","Temiz [ÃœrÃ¼n]"],DiÄŸer:["Kaliteli [ÃœrÃ¼n]","Uygun Fiyat [ÃœrÃ¼n]","Acil SatÄ±lÄ±k [ÃœrÃ¼n]"]},xe=async(h,K=.9)=>new Promise((O,I)=>{const S=new FileReader;S.readAsDataURL(h),S.onload=F=>{const y=new Image;y.src=F.target?.result,y.onload=()=>{const E=document.createElement("canvas");let m=y.width,g=y.height;const f=1920;m>g&&m>f?(g=g*f/m,m=f):g>f&&(m=m*f/g,g=f),E.width=m,E.height=g,E.getContext("2d")?.drawImage(y,0,0,m,g);let w=.9;const D=K*1024*1024,$=j=>{E.toBlob(v=>{if(!v){I(new Error("Resim sÄ±kÄ±ÅŸtÄ±rÄ±lamadÄ±"));return}if(v.size>D&&j>.1)$(j-.1);else{const P=new File([v],h.name,{type:"image/jpeg",lastModified:Date.now()});O(P)}},"image/jpeg",j)};$(w)},y.onerror=()=>I(new Error("Resim yÃ¼klenemedi"))},S.onerror=()=>I(new Error("Dosya okunamadÄ±"))});function Ae(){const h=oe(),[K,O]=c.useState(!1),[I,S]=c.useState(!1),[F,y]=c.useState([]),[E,m]=c.useState([]),[g,f]=c.useState(!1),L=c.useRef(null),[w,D]=c.useState(null),[$,j]=c.useState(!1),{user:v,customUser:P}=de(),[a,J]=c.useState({title:"",description:"",price:"",category:"",condition:"",location:""}),[o,B]=c.useState({}),[N,Q]=c.useState(!1),[p,k]=c.useState(!1),[X,T]=c.useState(!1),[he,ye]=c.useState(!1);if(c.useEffect(()=>{(async()=>{if(v){D(v.id),j(!0);return}if(P){D(P.id),j(!0);return}const r=localStorage.getItem("session_token"),i=localStorage.getItem("user_id");if(r&&i)try{const{data:s,error:n}=await u.functions.invoke("auth-verify",{body:{session_token:r}});if(!n&&s.success){D(i),j(!0);return}}catch(s){console.error("Session verification error:",s)}try{const{data:{user:s}}=await u.auth.getUser();if(s){D(s.id),j(!0);return}}catch(s){console.error("Supabase auth error:",s)}alert("Ä°lan vermek iÃ§in giriÅŸ yapmalÄ±sÄ±nÄ±z"),h("/auth/login")})()},[h,v,P]),!$)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-cyan-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-loader-4-line text-4xl text-purple-600 animate-spin"}),e.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"YÃ¼kleniyor..."})]})});const x=(t,r)=>{J(i=>({...i,[t]:r})),o[t]&&B(i=>({...i,[t]:""}))},Y=async()=>{if(!a.category){alert("âš ï¸ Ã–nce kategori seÃ§in");return}if(!a.title.trim()){alert('ğŸ’¡ Ä°pucu: Ã–nce Ã¼rÃ¼nÃ¼nÃ¼z hakkÄ±nda kÄ±sa bir baÅŸlÄ±k yazÄ±n (Ã¶rn: "Laptop"), AI bunu iyileÅŸtirecek.');return}k(!0);try{console.log("AI isteÄŸi gÃ¶nderiliyor...",{category:a.category,title:a.title,condition:a.condition});const{data:t,error:r}=await u.functions.invoke("ai-assistant",{body:{action:"suggest_title",category:a.category,title:a.title,condition:a.condition||"used"}});if(console.log("AI yanÄ±tÄ±:",{data:t,error:r}),r)throw console.error("Supabase function error:",r),new Error(r.message||"Edge Function hatasÄ±");if(t?.success)x("title",t.result),alert("âœ¨ AI baÅŸlÄ±k Ã¶nerisi uygulandÄ±!");else throw new Error(t?.error||"AI yanÄ±t veremedi")}catch(t){console.error("AI error:",t);let r="AI Ã¶nerisi alÄ±namadÄ±.";t.message?.includes("API anahtarÄ±")?r=`âš ï¸ OpenAI API anahtarÄ± yapÄ±landÄ±rÄ±lmamÄ±ÅŸ!

LÃ¼tfen Supabase Dashboard'a gidin:
1. Edge Functions â†’ Secrets
2. OPENAI_API_KEY ekleyin
3. Edge Function'Ä± yeniden deploy edin`:t.message?.includes("Failed to send")?r=`âš ï¸ Edge Function'a baÄŸlanÄ±lamadÄ±!

LÃ¼tfen kontrol edin:
1. Edge Function deploy edildi mi?
2. Supabase baÄŸlantÄ±sÄ± aktif mi?`:t.message&&(r=`Hata: ${t.message}`),alert(r)}finally{k(!1)}},Z=t=>{x("title",t),T(!1)},H=async()=>{if(!a.description.trim()){alert("âš ï¸ Ã–nce bir aÃ§Ä±klama yazÄ±n, AI bunu iyileÅŸtirecek.");return}k(!0);try{console.log("AI isteÄŸi gÃ¶nderiliyor...",{category:a.category,title:a.title,description:a.description});const{data:t,error:r}=await u.functions.invoke("ai-assistant",{body:{action:"improve_text",category:a.category,title:a.title,description:a.description}});if(console.log("AI yanÄ±tÄ±:",{data:t,error:r}),r)throw console.error("Supabase function error:",r),new Error(r.message||"Edge Function hatasÄ±");if(t?.success)x("description",t.result),alert("ğŸª„ Metniniz AI tarafÄ±ndan iyileÅŸtirildi!");else throw new Error(t?.error||"AI yanÄ±t veremedi")}catch(t){console.error("AI error:",t);let r="Metin iyileÅŸtirilemedi.";t.message?.includes("API anahtarÄ±")?r="âš ï¸ OpenAI API anahtarÄ± yapÄ±landÄ±rÄ±lmamÄ±ÅŸ!":t.message?.includes("Failed to send")?r="âš ï¸ Edge Function'a baÄŸlanÄ±lamadÄ±!":t.message&&(r=`Hata: ${t.message}`),alert(r)}finally{k(!1)}},ee=async()=>{if(!a.category){alert("âš ï¸ Ã–nce kategori seÃ§in");return}if(!a.title.trim()){alert("ğŸ’¡ Ä°pucu: Ã–nce bir baÅŸlÄ±k yazÄ±n, AI daha iyi aÃ§Ä±klama Ã¼retecek.");return}k(!0);try{console.log("AI isteÄŸi gÃ¶nderiliyor...",{category:a.category,title:a.title});const{data:t,error:r}=await u.functions.invoke("ai-assistant",{body:{action:"suggest_description",category:a.category,title:a.title||"ÃœrÃ¼n"}});if(console.log("AI yanÄ±tÄ±:",{data:t,error:r}),r)throw console.error("Supabase function error:",r),new Error(r.message||"Edge Function hatasÄ±");if(t?.success)x("description",t.result),alert("ğŸ“ AI aÃ§Ä±klama ÅŸablonu oluÅŸturuldu!");else throw new Error(t?.error||"AI yanÄ±t veremedi")}catch(t){console.error("AI error:",t);let r="AÃ§Ä±klama ÅŸablonu oluÅŸturulamadÄ±.";t.message?.includes("API anahtarÄ±")?r="âš ï¸ OpenAI API anahtarÄ± yapÄ±landÄ±rÄ±lmamÄ±ÅŸ!":t.message?.includes("Failed to send")?r="âš ï¸ Edge Function'a baÄŸlanÄ±lamadÄ±!":t.message&&(r=`Hata: ${t.message}`),alert(r)}finally{k(!1)}},G=async()=>{if(!a.category||!a.title){alert("âš ï¸ Ã–nce kategori ve baÅŸlÄ±k girin");return}if(a.title.trim().length<3){alert('ğŸ’¡ Ä°pucu: Daha detaylÄ± bir baÅŸlÄ±k yazÄ±n (Ã¶rn: "Dell Laptop i7"), AI daha doÄŸru fiyat Ã¶nerecek.');return}k(!0);try{console.log("AI isteÄŸi gÃ¶nderiliyor...",{category:a.category,title:a.title,description:a.description,condition:a.condition});const{data:t,error:r}=await u.functions.invoke("ai-assistant-cached",{body:{action:"suggest_price",category:a.category,title:a.title,description:a.description,condition:a.condition||"Az KullanÄ±lmÄ±ÅŸ"}});if(console.log("AI yanÄ±tÄ±:",{data:t,error:r}),r)throw console.error("Supabase function error:",r),new Error(r.message||"Edge Function hatasÄ±");if(t?.success){const i=t.price||0,s=t.cached||!1,n=t.confidence||0,A=t.result||"";x("price",i.toString());const l=s?"âš¡ Cache'den alÄ±ndÄ± (anÄ±nda)":"ğŸ” GÃ¼ncel piyasa verisi",d=n>0?`
ğŸ¯ GÃ¼venilirlik: ${(n*100).toFixed(0)}%`:"";alert(`ğŸ’° AI Fiyat Ã–nerisi: ${A}

${l}${d}

Ã–nerilen fiyat forma eklendi: ${i.toLocaleString("tr-TR")} â‚º`)}else throw new Error(t?.error||"AI yanÄ±t veremedi")}catch(t){console.error("AI error:",t);let r="Fiyat Ã¶nerisi alÄ±namadÄ±.";t.message?.includes("API anahtarÄ±")?r="âš ï¸ OpenAI API anahtarÄ± yapÄ±landÄ±rÄ±lmamÄ±ÅŸ!":t.message?.includes("Failed to send")?r="âš ï¸ Edge Function'a baÄŸlanÄ±lamadÄ±!":t.message&&(r=`Hata: ${t.message}`),alert(r)}finally{k(!1)}},te=async t=>{const r=Array.from(t.target.files||[]);if(r.length+F.length>5){alert("En fazla 5 resim yÃ¼kleyebilirsiniz");return}f(!0);try{const i=[],s=[];for(const n of r){const A=n.size/1048576;if(n.type.startsWith("image/"))if(A>.9){const l=await xe(n,.9);i.push(l);const d=new FileReader;d.onloadend=()=>{s.push(d.result),s.length===r.length&&m(M=>[...M,...s])},d.readAsDataURL(l)}else{i.push(n);const l=new FileReader;l.onloadend=()=>{s.push(l.result),s.length===r.length&&m(d=>[...d,...s])},l.readAsDataURL(n)}else if(n.type.startsWith("video/")){if(A>5){alert(`${n.name} Ã§ok bÃ¼yÃ¼k! Videolar maksimum 5 MB olmalÄ±dÄ±r.`);continue}i.push(n);const l=new FileReader;l.onloadend=()=>{s.push(l.result),s.length===r.length&&m(d=>[...d,...s])},l.readAsDataURL(n)}}y(n=>[...n,...i])}catch(i){console.error("Resim sÄ±kÄ±ÅŸtÄ±rma hatasÄ±:",i),alert("Resim iÅŸlenirken bir hata oluÅŸtu")}finally{f(!1)}},re=t=>{y(r=>r.filter((i,s)=>s!==t)),m(r=>r.filter((i,s)=>s!==t))},ae=()=>{const t={};return a.title.trim()||(t.title="BaÅŸlÄ±k gerekli"),a.description.trim()||(t.description="AÃ§Ä±klama gerekli"),(!a.price||parseFloat(a.price)<=0)&&(t.price="GeÃ§erli bir fiyat girin"),a.category||(t.category="Kategori seÃ§in"),a.condition||(t.condition="Durum seÃ§in"),a.location.trim()||(t.location="Konum gerekli"),B(t),Object.keys(t).length===0},se=async()=>{const t=[];let r="";try{const{data:s}=await u.from("profiles").select("phone").eq("id",w).single();r=s?.phone?.replace(/\D/g,"")||w||"unknown"}catch(s){console.error("Telefon numarasÄ± alÄ±namadÄ±:",s),r=w||"unknown"}const i=`temp_${Date.now()}`;for(const s of F){const n=s.name.split(".").pop(),A=`${Date.now()}_${Math.random().toString(36).substr(2,9)}.${n}`,l=`${r}/${i}/${A}`,{error:d}=await u.storage.from("product-images").upload(l,s);if(d)throw console.error("Upload error:",d),new Error("Resim yÃ¼kleme hatasÄ±");t.push(l)}return t},ie=async t=>{if(t.preventDefault(),!!ae()){if(F.length===0){alert("En az 1 resim yÃ¼klemelisiniz");return}if(!w){alert("KullanÄ±cÄ± bilgisi bulunamadÄ±. LÃ¼tfen tekrar giriÅŸ yapÄ±n."),h("/auth/login");return}S(!0);try{let r="",i="";try{const{data:b}=await u.from("profiles").select("phone, full_name").eq("id",w).single();r=b?.phone||"",i=b?.full_name||"SatÄ±cÄ±"}catch(b){console.error("Profil bilgileri alÄ±namadÄ±:",b)}const s=await se(),n=s.map(b=>{const{data:z}=u.storage.from("product-images").getPublicUrl(b);return z.publicUrl}),l={SÄ±fÄ±r:"new","Az KullanÄ±lmÄ±ÅŸ":"used","Ä°yi Durumda":"used","Orta Durumda":"used"}[a.condition]||"used",d={source:"web",created_via:"manual",user_agent:navigator.userAgent,created_at:new Date().toISOString()},{data:M,error:R}=await u.from("listings").insert({user_id:w,title:a.title,description:a.description,price:parseFloat(a.price),category:a.category,condition:l,location:a.location,image_url:n[0],images:s,metadata:d,user_name:i,user_phone:r,status:"active",is_premium:!1,view_count:0,created_at:new Date().toISOString()}).select().single();if(R)throw console.error("Insert error:",R),R;if(M&&M.id){const b=M.id,z=[];for(const C of s){const U=C.split("/").pop(),q=`${C.split("/")[0]}/${b}/${U}`,{error:V}=await u.storage.from("product-images").move(C,q);V?(console.error("Move error:",V),z.push(C)):z.push(q)}const ne=z.map(C=>{const{data:U}=u.storage.from("product-images").getPublicUrl(C);return U.publicUrl});await u.from("listings").update({images:z,image_url:ne[0]}).eq("id",b)}alert("Ä°lan baÅŸarÄ±yla oluÅŸturuldu! ğŸ‰"),h(`/listing/${M.id}`)}catch(r){console.error("Error creating listing:",r),r.message?.includes("violates foreign key constraint")?(alert("KullanÄ±cÄ± bilgisi doÄŸrulanamadÄ±. LÃ¼tfen Ã§Ä±kÄ±ÅŸ yapÄ±p tekrar giriÅŸ yapÄ±n."),localStorage.removeItem("session_token"),localStorage.removeItem("user_id"),h("/auth/login")):alert("Ä°lan oluÅŸturulurken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.")}finally{S(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-cyan-50",children:[e.jsx(le,{isScrolled:K}),e.jsx("div",{className:"pt-24 pb-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-display font-bold",children:e.jsx("span",{className:"bg-gradient-primary bg-clip-text text-transparent",children:"Yeni Ä°lan OluÅŸtur"})}),e.jsxs("button",{onClick:()=>Q(!N),className:`px-4 py-2 rounded-full flex items-center space-x-2 transition-all cursor-pointer whitespace-nowrap ${N?"bg-gradient-primary text-white shadow-lg":"bg-white text-gray-700 border border-gray-300 hover:border-purple-500"}`,children:[e.jsx("i",{className:"ri-robot-2-line text-lg"}),e.jsx("span",{className:"text-sm font-medium",children:"AI Asistan"})]})]}),e.jsx("p",{className:"text-lg text-gray-600",children:"ÃœrÃ¼nÃ¼nÃ¼zÃ¼ satmak iÃ§in detaylarÄ± doldurun"})]}),e.jsx(W,{children:N&&e.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 rounded-2xl p-6 text-white",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"ri-robot-2-fill text-2xl"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:"ğŸ¤– AI Asistan Aktif"}),e.jsx("p",{className:"text-sm text-white/90 mb-4",children:"Merhaba! Ä°lan oluÅŸtururken size yardÄ±mcÄ± olabilirim. BaÅŸlÄ±k Ã¶nerileri, aÃ§Ä±klama ÅŸablonlarÄ± ve fiyat Ã¶nerileri sunabilirim."}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{type:"button",onClick:Y,disabled:!a.category||p,className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:p?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-1"}),"YÃ¼kleniyor..."]}):"âœ¨ BaÅŸlÄ±k Ã–ner"}),e.jsx("button",{type:"button",onClick:ee,disabled:!a.category||p,className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:p?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-1"}),"YÃ¼kleniyor..."]}):"ğŸ“ AÃ§Ä±klama Åablonu"}),e.jsx("button",{type:"button",onClick:H,disabled:!a.description.trim()||p,className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:p?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-1"}),"YÃ¼kleniyor..."]}):"ğŸª„ Metni Ä°yileÅŸtir"}),e.jsx("button",{type:"button",onClick:G,disabled:!a.category||!a.title||p,className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:p?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-1"}),"YÃ¼kleniyor..."]}):"ğŸ’° Fiyat Ã–ner"})]})]})]})})})}),e.jsxs(_.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onSubmit:ie,className:"bg-white rounded-3xl shadow-xl p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["ÃœrÃ¼n Resimleri ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[E.map((t,r)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:t,alt:`Preview ${r+1}`,className:"w-full h-24 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>re(r),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer","aria-label":`Resmi kaldÄ±r ${r+1}`,children:e.jsx("i",{className:"ri-close-line text-sm"})})]},r)),F.length<5&&e.jsx("button",{type:"button",onClick:()=>L.current?.click(),disabled:g,className:"w-full h-24 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center hover:border-purple-500 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:g?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line text-2xl text-purple-500 animate-spin"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Ä°ÅŸleniyor..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-add-line text-2xl text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Ekle"})]})})]}),e.jsx("input",{ref:L,type:"file",accept:"image/*,video/*",multiple:!0,onChange:te,className:"hidden",title:"Medya dosyalarÄ± seÃ§","aria-label":"Resim veya video yÃ¼kle"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"ğŸ“· Resimler: Max 0.9 MB (otomatik sÄ±kÄ±ÅŸtÄ±rÄ±lÄ±r) â€¢ ğŸ¥ Videolar: Max 5 MB â€¢ En fazla 5 dosya"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Kategori ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.category,onChange:t=>x("category",t.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer text-sm ${o.category?"border-red-500":"border-gray-300"}`,"aria-label":"Ä°lan kategorisi seÃ§",title:"Kategori seÃ§in",children:[e.jsx("option",{value:"",children:"Kategori SeÃ§in"}),me.map(t=>e.jsx("option",{value:t,children:t},t))]}),o.category&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.category})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Durum ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.condition,onChange:t=>x("condition",t.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer text-sm ${o.condition?"border-red-500":"border-gray-300"}`,"aria-label":"ÃœrÃ¼n durumu seÃ§",title:"Durum seÃ§in",children:[e.jsx("option",{value:"",children:"Durum SeÃ§in"}),pe.map(t=>e.jsx("option",{value:t,children:t},t))]}),o.condition&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.condition})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:["Ä°lan BaÅŸlÄ±ÄŸÄ± ",e.jsx("span",{className:"text-red-500",children:"*"})]}),N&&a.category&&e.jsx("button",{type:"button",onClick:Y,disabled:p||!a.title.trim(),className:"text-xs text-purple-600 hover:text-purple-700 font-medium cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-1"}),"YÃ¼kleniyor..."]}):"âœ¨ Ä°yileÅŸtir"})]}),e.jsx("input",{type:"text",value:a.title,onChange:t=>x("title",t.target.value),placeholder:"Ã–rn: Dell Laptop i7 16GB RAM",className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm ${o.title?"border-red-500":"border-gray-300"}`}),o.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.title}),N&&a.category&&!a.title.trim()&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'ğŸ’¡ Ã–nce Ã¼rÃ¼nÃ¼nÃ¼zÃ¼ kÄ±saca yazÄ±n (Ã¶rn: "Laptop"), AI iyileÅŸtirecek'}),e.jsx(W,{children:X&&a.category&&e.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-2 bg-white border border-purple-200 rounded-lg shadow-lg p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"ğŸ’¡ BaÅŸlÄ±k Ã–nerileri"}),e.jsx("button",{type:"button",onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600 cursor-pointer","aria-label":"Ã–nerileri kapat",children:e.jsx("i",{className:"ri-close-line"})})]}),ge[a.category]?.map((t,r)=>e.jsx("button",{type:"button",onClick:()=>Z(t),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-purple-50 rounded-lg transition-colors cursor-pointer",children:t},r))]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:["AÃ§Ä±klama ",e.jsx("span",{className:"text-red-500",children:"*"})]}),N&&a.description.trim()&&e.jsx("button",{type:"button",onClick:H,disabled:p,className:"text-xs text-purple-600 hover:text-purple-700 font-medium cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:p?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-1"}),"Ä°yileÅŸtiriliyor..."]}):e.jsx(e.Fragment,{children:"ğŸª„ Metni Ä°yileÅŸtir"})})]}),e.jsx("textarea",{value:a.description,onChange:t=>x("description",t.target.value),placeholder:"ÃœrÃ¼nÃ¼nÃ¼z hakkÄ±nda detaylÄ± bilgi verin...",rows:5,maxLength:500,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none text-sm ${o.description?"border-red-500":"border-gray-300"}`}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[o.description&&e.jsx("p",{className:"text-red-500 text-xs",children:o.description}),e.jsxs("p",{className:"text-xs text-gray-500 ml-auto",children:[a.description.length,"/500"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:["Fiyat (â‚º) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),N&&a.category&&a.title&&e.jsx("button",{type:"button",onClick:G,disabled:p,className:"text-xs text-purple-600 hover:text-purple-700 font-medium cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:"ğŸ’° Ã–ner"})]}),e.jsx("input",{type:"number",value:a.price,onChange:t=>x("price",t.target.value),placeholder:"0",min:"0",step:"0.01",className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm ${o.price?"border-red-500":"border-gray-300"}`}),o.price&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.price})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Konum ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:a.location,onChange:t=>x("location",t.target.value),placeholder:"Ã–rn: Ä°stanbul, KadÄ±kÃ¶y",className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm ${o.location?"border-red-500":"border-gray-300"}`}),o.location&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.location})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>h("/listings"),className:"px-6 py-3 text-sm font-semibold text-gray-700 bg-gray-100 rounded-full hover:bg-gray-200 transition-all whitespace-nowrap cursor-pointer",children:"Ä°ptal"}),e.jsx("button",{type:"submit",disabled:I||g,className:"px-8 py-3 text-sm font-semibold text-white bg-gradient-primary rounded-full hover:shadow-lg hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap cursor-pointer",children:I?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"YÃ¼kleniyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-check-line mr-2"}),"Ä°lanÄ± YayÄ±nla"]})})]})]})]})}),e.jsx(ce,{}),e.jsx(ue,{})]})}export{Ae as default};
//# sourceMappingURL=page-BwmW1-mE.js.map
