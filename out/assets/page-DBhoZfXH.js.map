{"version":3,"file":"page-DBhoZfXH.js","sources":["../../src/pages/auth/register/page.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport TopNavigation from '../../../components/feature/TopNavigation';\r\nimport { supabase } from '../../../lib/supabase';\r\n\r\nexport default function RegisterPage() {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    // Validasyon\r\n    if (!formData.name || !formData.email || !formData.phone || !formData.password) {\r\n      setError('Lütfen tüm alanları doldurun');\r\n      return;\r\n    }\r\n\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError('Şifreler eşleşmiyor');\r\n      return;\r\n    }\r\n\r\n    if (formData.password.length < 6) {\r\n      setError('Şifre en az 6 karakter olmalıdır');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Supabase Auth ile kayıt\r\n      const { data: authData, error: authError } = await supabase.auth.signUp({\r\n        email: formData.email,\r\n        password: formData.password,\r\n        options: {\r\n          emailRedirectTo: `${window.location.origin}/auth/login`,\r\n          data: {\r\n            full_name: formData.name,\r\n            display_name: formData.name,\r\n            phone: formData.phone,\r\n          },\r\n        },\r\n      });\r\n\r\n      if (authError) {\r\n        throw authError;\r\n      }\r\n\r\n      if (authData.user) {\r\n        // Profil bilgilerini güncelle\r\n        const { error: profileError } = await supabase\r\n          .from('profiles')\r\n          .update({\r\n            full_name: formData.name,\r\n            display_name: formData.name,\r\n            phone: formData.phone,\r\n          })\r\n          .eq('id', authData.user.id);\r\n\r\n        if (profileError) {\r\n          console.error('Profil güncelleme hatası:', profileError);\r\n        }\r\n\r\n        setSuccess('Kayıt başarılı! Giriş yapabilirsiniz.');\r\n        \r\n        setTimeout(() => {\r\n          navigate('/auth/login');\r\n        }, 2000);\r\n      }\r\n    } catch (err: any) {\r\n      console.error('Kayıt hatası:', err);\r\n      setError(err.message || 'Kayıt sırasında bir hata oluştu');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-teal-50 via-white to-orange-50\">\r\n      <TopNavigation />\r\n      \r\n      <div className=\"flex items-center justify-center px-4 py-16\">\r\n        <div className=\"w-full max-w-md\">\r\n          <div className=\"bg-white rounded-2xl shadow-xl p-8\">\r\n            <div className=\"text-center mb-8\">\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Kayıt Ol</h1>\r\n              <p className=\"text-gray-600\">Hemen ücretsiz hesap oluşturun</p>\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n                <p className=\"text-sm text-red-600\">{error}</p>\r\n              </div>\r\n            )}\r\n\r\n            {success && (\r\n              <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n                <p className=\"text-sm text-green-600\">{success}</p>\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Ad Soyad\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.name}\r\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm\"\r\n                  placeholder=\"Adınız ve soyadınız\"\r\n                  disabled={loading}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  E-posta\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm\"\r\n                  placeholder=\"ornek@email.com\"\r\n                  disabled={loading}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Telefon Numarası\r\n                </label>\r\n                <input\r\n                  type=\"tel\"\r\n                  value={formData.phone}\r\n                  onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm\"\r\n                  placeholder=\"+90 5XX XXX XX XX\"\r\n                  disabled={loading}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Şifre\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  value={formData.password}\r\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm\"\r\n                  placeholder=\"En az 6 karakter\"\r\n                  disabled={loading}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Şifre Tekrar\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  value={formData.confirmPassword}\r\n                  onChange={(e) => setFormData({ ...formData, confirmPassword: e.target.value })}\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm\"\r\n                  placeholder=\"Şifrenizi tekrar girin\"\r\n                  disabled={loading}\r\n                />\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap cursor-pointer\"\r\n              >\r\n                {loading ? 'Kayıt Yapılıyor...' : 'Kayıt Ol'}\r\n              </button>\r\n            </form>\r\n\r\n            <div className=\"mt-6 text-center\">\r\n              <p className=\"text-sm text-gray-600\">\r\n                Zaten hesabınız var mı?{' '}\r\n                <button\r\n                  onClick={() => navigate('/auth/login')}\r\n                  className=\"text-teal-600 hover:text-teal-700 font-semibold cursor-pointer\"\r\n                >\r\n                  Giriş Yap\r\n                </button>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["RegisterPage","navigate","useNavigate","formData","setFormData","useState","loading","setLoading","error","setError","success","setSuccess","handleSubmit","e","authData","authError","supabase","profileError","err","jsxs","jsx","TopNavigation"],"mappings":"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"}