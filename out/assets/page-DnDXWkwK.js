import{u as f,r as n,j as e}from"./index-CG8BtuKQ.js";import{T as b}from"./TopNavigation-B4KEoh3H.js";import{s as g}from"./supabase-ChMZ-R7X.js";function v(){const i=f(),[a,t]=n.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[s,d]=n.useState(!1),[c,l]=n.useState(""),[m,u]=n.useState(""),h=async r=>{if(r.preventDefault(),l(""),u(""),!a.name||!a.email||!a.phone||!a.password){l("Lütfen tüm alanları doldurun");return}if(a.password!==a.confirmPassword){l("Şifreler eşleşmiyor");return}if(a.password.length<6){l("Şifre en az 6 karakter olmalıdır");return}d(!0);try{const{data:o,error:p}=await g.auth.signUp({email:a.email,password:a.password,options:{emailRedirectTo:`${window.location.origin}/auth/login`,data:{full_name:a.name,display_name:a.name,phone:a.phone}}});if(p)throw p;if(o.user){const{error:x}=await g.from("profiles").update({full_name:a.name,display_name:a.name,phone:a.phone}).eq("id",o.user.id);x&&console.error("Profil güncelleme hatası:",x),u("Kayıt başarılı! Giriş yapabilirsiniz."),setTimeout(()=>{i("/auth/login")},2e3)}}catch(o){console.error("Kayıt hatası:",o),l(o.message||"Kayıt sırasında bir hata oluştu")}finally{d(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 via-white to-orange-50",children:[e.jsx(b,{}),e.jsx("div",{className:"flex items-center justify-center px-4 py-16",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Kayıt Ol"}),e.jsx("p",{className:"text-gray-600",children:"Hemen ücretsiz hesap oluşturun"})]}),c&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:c})}),m&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-600",children:m})}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Soyad"}),e.jsx("input",{type:"text",value:a.name,onChange:r=>t({...a,name:r.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",placeholder:"Adınız ve soyadınız",disabled:s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta"}),e.jsx("input",{type:"email",value:a.email,onChange:r=>t({...a,email:r.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",placeholder:"ornek@email.com",disabled:s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon Numarası"}),e.jsx("input",{type:"tel",value:a.phone,onChange:r=>t({...a,phone:r.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",placeholder:"+90 5XX XXX XX XX",disabled:s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre"}),e.jsx("input",{type:"password",value:a.password,onChange:r=>t({...a,password:r.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",placeholder:"En az 6 karakter",disabled:s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre Tekrar"}),e.jsx("input",{type:"password",value:a.confirmPassword,onChange:r=>t({...a,confirmPassword:r.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",placeholder:"Şifrenizi tekrar girin",disabled:s})]}),e.jsx("button",{type:"submit",disabled:s,className:"w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap cursor-pointer",children:s?"Kayıt Yapılıyor...":"Kayıt Ol"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Zaten hesabınız var mı?"," ",e.jsx("button",{onClick:()=>i("/auth/login"),className:"text-teal-600 hover:text-teal-700 font-semibold cursor-pointer",children:"Giriş Yap"})]})})]})})})]})}export{v as default};
//# sourceMappingURL=page-DnDXWkwK.js.map
